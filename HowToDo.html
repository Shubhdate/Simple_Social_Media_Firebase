<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase +  SocialMedia</title>
</head>
<body>
    <h1>Social Media  + Firebase</h1>
    
    1)register and login page  with verification 
    2)user profile information 
    3)add or delete friend and check information 
    4)adding post and like and unlike post and delete post also 
    5)comments on post  


    1)install react,react-router-dom,tailwind,spinners,firebase,materialTailwind,Formik ,yup
    2)creating Navbar sections 
    by making components Navbar.jsx -> Home.jsx -> Pages.jsx -> App.js 
    from Navbar.jsx 
    <!--import React from 'react'
import NavLink from './NavLink'
import UserLink from './UserLink'

const Navbar = () => {
  return (
    <>
        <div className="w-full flex justify-between items-center border-4 border-gray-200 px-44 py-2">
            
            <div className="text-3xl font-extrabold text-gray-900 dark:text-white">
                <span className='text-transparent bg-clip-text bg-gradient-to-r to-red-600 from-blue-400'>Social Media App</span>
            </div>

            <div className='flex justify-between items-center mx-auto'>
                <NavLink/>
            </div>

            <div>
                <UserLink/>
            </div>
        </div>
    </>
  )
}

export default Navbar-->

    from NavLink.jsx 
    <!--import React from 'react'

const NavLink = () => {
  return (
    <>
        <div className="flex justify-center items-center cursor-pointer">
            <div className="hover:translate-y-1 duration-500 ease-in-out hover:text-blue-500 mr-1">Home</div>
            <div className="hover:translate-y-1 duration-500 ease-in-out hover:text-blue-500 mr-1">Email</div>
            <div className="hover:translate-y-1 duration-500 ease-in-out hover:text-blue-500 mr-1">Cube</div>
            <div className="hover:translate-y-1 duration-500 ease-in-out hover:text-blue-500 mr-1">Trophy</div>
        </div>
    </>
  )
}

export default NavLink-->

    from UserLink.jsx 
    <!--import React from 'react'
import { Tooltip } from '@material-tailwind/react'
import { Avatar } from '@material-tailwind/react'
import avatar from './logo512.png'

const UserLink = () => {
  return (
    <>
    <div className="flex justify-center items-center cursor-pointer">
        <div className="hover:translate-y-1 duration-500 ease-in-out hover:text-blue-500 mr-1">Profile</div>
        <div className="hover:translate-y-1 duration-500 ease-in-out hover:text-blue-500 mr-1">Notifications</div>
        <div className="hover:translate-y-1 duration-500 ease-in-out hover:text-blue-500 mr-1">Settings</div>
        <div className='flex items-center'>
          <Tooltip content="Sign Out" placement="bottom">
            <Avatar src={avatar} size='sm'></Avatar>
          </Tooltip>
          <p className=' text-smm text-black font-medium no-underline'>SignOut-User</p>
        </div>
    </div>
    </>
  )
}

export default UserLink-->

    2)creating Left side of social media with random ads generator in int also function 
    <!--import React, { useEffect, useRef, useState } from 'react'
import { Tooltip } from '@material-tailwind/react'
import { Avatar } from '@material-tailwind/react'
import avatar from '../../assest/logo512.png'
import nature from '../../assest/logo512.png'

const LeftSide = () => {

    //creating random ads features

    const [data,setData] = useState([])
    const count = useRef(0)


    const handleRandom = (arr) => {
        setData(arr[Math.floor(Math.random() * arr.length)])
    }

    useEffect(() => {
        const imageList = [
            {
                id:"1",
                imageurl:"Laptop",
            },
            {
                id:"2",
                imageurl:"Mobile",
            },
            {
                id:"3",
                imageurl:"Earbuds",
            },{
                id:"4",
                imageurl:"TV",
            },
            {
                id:"5",
                imageurl:"Tablet",
            },
        ]

        handleRandom(imageList)
        let countads = 0
        let startads = setInterval(() => {
            countads++;
            handleRandom(imageList)
            count.current = countads

            if(countads === 5){
                clearInterval(startads)
            }
        },2000)

        return () => {
            clearInterval(startads)
        }
    },[])

    const progressbar = () => {
        switch(count.current){
            case 1: 
                return 15;
            case 2: 
                return 30;
            case 3: 
                return 45;
            case 4: 
                return 60;
            case 5: 
                return 75;
            default: 
                return 0;
        }
    }

  return (
    <>
        <div className="flex flex-col h-screen p-4 bg-white border-4 rounded-r-x1 shadow-lg">
            <div className='flex flex-col items-center relative'>
                <img className='h-28 w-full rounded-r-xl' src={nature} alt="" />
                <div className="absolute -bottom-4">
                    <Tooltip content="SProfile" placement="top">
                        <Avatar src={avatar} size='md'></Avatar>
                    </Tooltip>
                </div>
            </div>

            <div className='flex flex-col items-center pt-6'>
                <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                    User Email-:
                </p>
                <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                    Access Exclusive tools &Insights
                </p>
                <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                    Try Premium for Free
                </p>
            </div>

            <div className="flex flex-col items-center">
                <div className="flex items-center">
                    {/* <img className='h-10' src={nature} alt="job pic" /> */}
                    <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                        Job:
                    </p>
                </div>
                <div className="flex items-center">
                    {/* <img className='h-10' src={nature} alt="job pic" /> */}
                    <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                        Location:
                    </p>
                </div>

                <div className="flex flex-col justify-center items-center">
                    <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                        Event:
                    </p>
                    <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                        Groups:
                    </p>
                    <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                        Follow:
                    </p>
                    <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                        Product:
                    </p>
                </div>
            </div>

            <div className="ml-2">
                <div className="flex items-center justify-center">
                    <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                        Social Profiles
                    </p>
                </div>
                <div className="flex items-center justify-center">
                    <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                        Social Network Facebook:
                    </p>
                </div>
                <div className="flex items-center justify-center">
                    <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                        Social Network Twitter:
                    </p>
                </div>
            </div>

            <div className="flex flex-col justify-center items-center">
                <p className='font-medium text-md no-underline tracking-normal leading-none text-gray-700 py-2'>
                    Random Ads:
                </p>
            </div>

            
            <div style={{width:`${progressbar()}%`}} className="bg-blue-600 roundex-r-xl h-1 mb-4">
                <img className='h-36 roundex-lg' src={data.imageurl} alt={data.imageurl} />
            </div>
            
        </div>
    </>
  )
}

export default LeftSide-->

    3)creating reightside of social media  
    <!--import React, { useState } from 'react'
import nature from "../../assest/logo512.png"

const RightSide = () => {

  const [input,setInput] = useState("")

  return (
    <>
      <div className="flex flex-col h-screen p-4 bg-white border-4 rounded-r-x1 shadow-lg">
        <div className="flex flex-col items-center relative pt-10">
          <img src={nature} alt="" className='h-48 rounded-md' />
        </div>
        <p className='text-sm text-gray-700 max-w-full no-underline tracking-normal leading-tight py-2 mx-2'>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ea temporibus illum minus sapiente quia quasi explicabo obcaecati labore laudantium, corporis eligendi ad quas distinctio voluptatibus, cupiditate sint quis, magni eum.
        </p>

        <div className="mt-12">
          <p className='text-sm text-gray-700 max-w-full no-underline tracking-normal leading-tight mx-2'>
            Friends:{""}
          </p>
          <input type="text" className='mt-2 mr-2 border-0 outline-none' placeholder='Search Friends' onChange={(e) =>  setInput(e.target.value)}/>
        </div>
      </div>
    </>
  )
}

export default RightSide-->

    4)creating main section design 
    from Main,MainSection,Card,CardSection 

    5)creating login and register page section 
    creating login and validates using formik 
    from Login.jsx 
    <!--import React from 'react'
import {
    Card,
    CardHeader,
    CardBody,
    CardFooter,
    Typography,
    Input,
    Button,
  } from "@material-tailwind/react";
import { Link } from 'react-router-dom';

import { useFormik } from 'formik';
import * as Yup from "yup"

const Login = () => {

    let initialValues = {
        email:"",
        password:""
    }

    const validationSchema = Yup.object({
        email:Yup.string()
        .email("Invalid email address")
        .required("Required"),

        password:Yup.string()
        .required("Required")
        .min('4',"Must be at least of 4 charcters")
        .matches(/^[a-zA-Z]+$/, "Password can only contain letters")
    })

    const handleSubmit = (e) => {
        e.preventDefault() 
        // console.log('formik',formik)

        const {email,password} = formik.values 
        if(formik.isValid === true) {
            alert("Login is success")
        }
        else{
            alert("Login is unsuccess and check input fields")
        }

    }

    const formik = useFormik({initialValues,validationSchema,handleSubmit})


  return (
    <>  
    <div className="grid grid-cols-1 h-screen justify-items-center items-center">

        <Card className="w-96">
            <CardHeader
                variant="gradient"
                color="blue"
                className="mb-4 grid h-15 place-items-center"
            >
                <Typography variant="h3" color="white">
                Login Page
                </Typography>
            </CardHeader>

            <CardBody className="flex flex-col gap-4">
                <form onSubmit={handleSubmit}>
                    <div className='mb-2'>
                        <Input name='email' type="email" label="Email" size="lg" {...formik.getFieldProps("email")} />
                    </div>
                    <div className='mb-2'>
                        <Input name='password' type="password" label="Password" size="lg" {...formik.getFieldProps("password")}/>
                    </div>
                    <div className='mb-2'><Button type="submit" variant="gradient" fullWidth>Login</Button></div>
                    <div>
                        <>
                        {
                            formik.touched.email && formik.errors.email && (
                                <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.email}</Typography>
                            )
                        }
                        </>
                        <>
                        {
                            formik.touched.password && formik.errors.password && (
                                <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.password}</Typography>
                            )
                        }                       
                        </>
                    </div>
                </form>
            </CardBody>

            <CardFooter className="pt-0">
                <Typography
                    as="a"
                    href="#signup"
                    variant="small"
                    color="blue"
                    className="mt-6 flex justify-center ml-1 font-bold">
                    Login with Google
                </Typography>
                
                <Link to="/resetpassword">
                    <Typography variant="small" color="blue" className="mt-6 flex justify-center ml-1 font-bold">Reset Password</Typography>
                </Link>
                <Link to="/register">
                    <Typography variant="small" className="mt-6 flex justify-center">
                        Don't have an account?
                    <Typography
                        as="a"
                        href="#signup"
                        variant="small"
                        color="blue"
                        className="ml-1 font-bold"
                    >
                        Register Now
                    </Typography>
                    </Typography>
                </Link>
            </CardFooter>
        </Card>

    </div>
    </>
  )
}

export default Login-->


    creating Register page 
    <!--import React from 'react'
import {
    Card,
    CardHeader,
    CardBody,
    CardFooter,
    Typography,
    Input,
    Button,
  } from "@material-tailwind/react";
import { Link } from 'react-router-dom';

import { useFormik } from 'formik';
import * as Yup from "yup"

import { useState } from "react";
import { ClipLoader } from 'react-spinners';



const Register = () => {

  let [loading, setLoading] = useState(false);

    let initialValues = {
        name:"",
        email:"",
        password:"",
    }

    const validationSchema = Yup.object({
        name:Yup.string()
        .required("Required")
        .min('4','Username must be 4 characters long')
        .matches(/^[a-zA-Z]+$/, "username can only contain letters"),

        email:Yup.string()
        .email("Invalid email address")
        .required("Required"),

        password:Yup.string()
        .required("Required")
        .min('4',"Password must be at least of 4 charcters")
        .matches(/^[a-zA-Z]+$/, "Password can only contain letters")
    })

    const handleSubmit = (e) => {
      const {name,email,password} = formik.values 
        e.preventDefault() 
        // console.log('formik',formik)
        
        if(formik.isValid === true) {
            alert("Register is successfully")
            setLoading(true)
        }
        else{
            alert("Register is unsuccessfully")
        }

    }

    const formik = useFormik({initialValues,validationSchema,handleSubmit})

    
 
  return (
    <> 

    {/* <div className="flex justify-items-center items-center sweet-loading">

      <ClipLoader	
        color="blue"
        loading={loading}
        cssOverride={override}
        size={150}
        aria-label="Loading Spinner"
        data-testid="loader"
      />
    </div> */}

    <>
    {
      loading ? (<div className='grid grid-cols-1 h-screen justify-items-center items-center'><ClipLoader className='sweet-loading' color="blue" loading={loading} size={100} /></div>)
      : (<><div className="grid grid-cols-1 h-screen justify-items-center items-center">

      <Card className="w-96">
          <CardHeader
              variant="gradient"
              color="blue"
              className="mb-4 grid h-20 place-items-center"
          >
              <Typography variant="h3" color="white">
              Register Page
              </Typography>
          </CardHeader>

          <CardBody className="flex flex-col gap-4">
              <form onSubmit={handleSubmit}>
                  <div className='mb-2'>
                      <Input name='name' type="text" label="Username" size="lg" {...formik.getFieldProps("name")} />
                  </div>
                  <div className='mb-2'>
                      <Input name='email' type="email" label="Email" size="lg" {...formik.getFieldProps("email")} />
                  </div>
                  <div className='mb-2'>
                      <Input name='password' type="password" label="Password" size="lg" {...formik.getFieldProps("password")}/>
                  </div>
                  <div className='mb-2'><Button type="submit" variant="gradient" fullWidth>Register</Button></div>
                  <div>
                      <>
                      {
                          formik.touched.name && formik.errors.name && (
                              <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.name}</Typography>
                          )
                      }
                      </>
                      <>
                      {
                          formik.touched.email && formik.errors.email && (
                              <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.email}</Typography>
                          )
                      }
                      </>
                      <>
                      {
                          formik.touched.password && formik.errors.password && (
                              <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.password}</Typography>
                          )
                      }                       
                      </>
                  </div>
              </form>
          </CardBody>

          <CardFooter className="pt-0">
              <Typography
                  as="a"
                  href="#signup"
                  variant="small"
                  color="blue"
                  className="mt-6 flex justify-center ml-1 font-bold">
                  Register with Google
              </Typography>
              
              {/* <Link to="/resetpassword">
                  <Typography variant="small" color="blue" className="mt-6 flex justify-center ml-1 font-bold">Reset Password</Typography>
              </Link> */}
              <Link to="/login">
                  <Typography variant="small" className="mt-6 flex justify-center">
                      Already have an account?
                  <Typography
                      as="a"
                      href="#signup"
                      variant="small"
                      color="blue"
                      className="ml-1 font-bold"
                  >
                      Login Now
                  </Typography>
                  </Typography>
              </Link>
          </CardFooter>
      </Card>

        </div></>)
    }
    </>

    </>
  )
}

export default Register-->

    creating resetpassword page 
    <!--import React, { useState } from 'react'
import {
    Card,
    CardHeader,
    CardBody,
    CardFooter,
    Typography,
    Input,
    Button,
  } from "@material-tailwind/react";
import { Link } from 'react-router-dom';

import { useFormik } from 'formik';
import * as Yup from "yup"

import {ClipLoader} from "react-spinners"

const ResetPassword = () => {

    let [loading, setLoading] = useState(false);

    let initialValues = {
        email:""
    }

    const validationSchema = Yup.object({
        email:Yup.string()
        .email("Invalid email address")
        .required("Required"),
    })

    const handleSubmit = (e) => {
        e.preventDefault() 
        // console.log('formik',formik)

        const {email} = formik.values 
        if(formik.isValid === true) {
            alert("Verificatuion is send to your email")
            setLoading(true)
        }
        else{
            alert("Wrong email")
        }

    }

    const formik = useFormik({initialValues,validationSchema,handleSubmit})


  return (
    <> 
    {
        loading ? (<div className='grid grid-cols-1 h-screen justify-items-center items-center'><ClipLoader className='sweet-loading' color="blue" loading={loading} size={100} /></div>)
        : (<div className="grid grid-cols-1 h-screen justify-items-center items-center">

        <Card className="w-96">
            <CardHeader
                variant="gradient"
                color="blue"
                className="mb-4 grid h-20 place-items-center"
            >
                <Typography variant="h3" color="white">
                Reset Password Page
                </Typography>
            </CardHeader>

            <CardBody className="flex flex-col gap-4">
                <Typography variant="p">
                    Type your email to reset the password to send verification code and resetting your password
                </Typography>
                <form onSubmit={handleSubmit}>
                    <div className='mb-2'>
                        <Input name='email' type="email" label="Email" size="lg" {...formik.getFieldProps("email")} />
                    </div>
                    <div className='mb-2'><Button type="submit" variant="gradient" fullWidth>Send</Button></div>
                    {/* <div>
                        <>
                        {
                            formik.touched.email && formik.errors.email && (
                                <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.email}</Typography>
                            )
                        }
                        </>
                        <>
                        {
                            formik.touched.password && formik.errors.password && (
                                <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.password}</Typography>
                            )
                        }                       
                        </>
                    </div> */}
                </form>
            </CardBody>

            {/* <CardFooter className="pt-0">
                <Typography
                    as="a"
                    href="#signup"
                    variant="small"
                    color="blue"
                    className="mt-6 flex justify-center ml-1 font-bold">
                    Login with Google
                </Typography>

                <Link to="/login">
                    <Typography
                        as="a"
                        href="#signup"
                        variant="small"
                        color="blue"
                        className="flex items-center justify-center"
                    >
                        Login Now
                    </Typography>
                </Link>
            </CardFooter> */}
        </Card>

        </div>)
    }
    
    </>
  )
}

export default ResetPassword-->


    6)Now Firebase Configuration creating 
    create a project in it -> create an new components Firebase.jsx -> add firebase to your web ie register an webapp 
    ->npm i firebase -> copy the key code and paste in firebase.jsx -> now initalize app with with auth ,firestore,onauthchanged
    <!--// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries
import {getAuth, onAuthStateChange} from "firebase/auth"
import {getFirestore} from "firebase/firestore"

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyD4Q14acT479ov2jUSAe4ppfUH5IF3y9gU",
  authDomain: "social-media-firebase-43d7b.firebaseapp.com",
  projectId: "social-media-firebase-43d7b",
  storageBucket: "social-media-firebase-43d7b.appspot.com",
  messagingSenderId: "564276416350",
  appId: "1:564276416350:web:65878992e51dd8251189cf"
};



// Initialize Firebase
const app = initializeApp(firebaseConfig); 
const auth = getAuth(app)
const db = getFirestore(app)

export {auth,db, onAuthStateChange}-->


    -> go to authentication choose hwta way u cant to authenticate -> ia ma choosing email and google 
    -> go to firebase database -> start in test mode for now -> change in rule to if true 
    <!-- match /{document=**} {
      allow read, write: if true;
    }
  }
}-->

    we completed the firebase configuration 

    7)App contextconext provider for user management 
    creating all firebase functions for our apps 

    a)creating authentication for user login and register 
    make an AppContext first 
    make an login with google in app conetxt and importing in Login.jsx
    <!--import React, { useState } from 'react'
import { createContext } from 'react'
import {GoogleAuthProvider,signInWithPopup} from "firebase/auth"
import {auth,db,onAuthStateChanged} from "../Firebase/Firebase"
import { collection,getDocs,query,where,addDoc} from 'firebase/firestore'

export const AuthContext = createContext() 

const AppContext = ({children}) => {
    //for register
    const provider =  new GoogleAuthProvider()

    const [user,setUser] = useState("")
    const [userData,setUserData] = useState("")

    const collectionRef = collection(db,"users")
    

    const signInWithGoogle = async () => {
        try {
            const popup = await signInWithPopup(auth,provider)
            const user = popup.user 
            const q = query(collectionRef, where("uid", "==", user.uid))
            const docs = await getDocs(q)
            if(docs.docs.length === 0){
                await addDoc(collectionRef, {
                    uid:user?.uid,
                    name:user?.displayName,
                    email:user?.email,
                    image:user?.photoURL,
                    authProvider:popup?.providerId
                })
        }
        } catch (error) {
            console.log(error)
        }
    }

    const intialState = {
        signInWithGoogle : signInWithGoogle,
    }

  return (
    <>
    <div>
        <AuthContext.Provider value={intialState}>
            {children}
        </AuthContext.Provider>
    </div>
    </>
  )
}

export default AppContext-->

    from Login.jsx 
    <!--
    import { AuthContext } from '../AppContext/AppContext';

    const Login = () => {

        let [loading, setLoading] = useState(false);

        //importing AppContext to signwithgoogle 
        const {signInWithGoogle} = useContext(AuthContext)

        <Typography
            as="a"
            href="#signup"
            variant="small"
            color="blue"
            className="mt-6 flex justify-center ml-1 font-bold">
            <button onClick={signInWithGoogle}>Login with Google</button>
        </Typography>
    -->

    b)making function to login with email and register with email ,signout functions ie all authentication functions
    from Appcontext.jsx 
    <!--import React, { useEffect, useState } from 'react'
import { createContext } from 'react'
import {GoogleAuthProvider,createUserWithEmailAndPassword,sendPasswordResetEmail,signInWithEmailAndPassword,signInWithPopup} from "firebase/auth"
import {auth,db,onAuthStateChanged} from "../Firebase/Firebase"
import { collection,getDocs,query,where,addDoc, onSnapshot} from 'firebase/firestore'
import { useNavigate } from 'react-router-dom'

export const AuthContext = createContext() 

const AppContext = ({children}) => {
    
    const provider =  new GoogleAuthProvider()

    const [user,setUser] = useState("")
    const [userData,setUserData] = useState("")

    const collectionRef = collection(db,"users")

    const navigate = useNavigate()
    

    const signInWithGoogle = async () => {
        try {
            const popup = await signInWithPopup(auth,provider)
            const user = popup.user 
            const q = query(collectionRef, where("uid", "==", user.uid))
            const docs = await getDocs(q)
            if(docs.docs.length === 0){
                await addDoc(collectionRef, {
                    uid:user?.uid,
                    name:user?.displayName,
                    email:user?.email,
                    image:user?.photoURL,
                    authProvider:popup?.providerId
                })
        }
        } catch (error) {
            console.log(error)
        }
    }

    const loginWithUserAndEmail = async (email,password) => {
        try {

            await signInWithEmailAndPassword(auth,email,password)

        } catch (error) {
            console.log(error)
        }
    }

    const registerWithEmailAndPassword = async (name,email,password) => {
        try {
            
            const res = await createUserWithEmailAndPassword(auth,email,password)
            const user = res.user 
            await addDoc(collectionRef, {
                uid:user?.uid,
                name,
                providerId:"email/password",
                email:user?.email,
            })


        } catch (error) {
            console.log(error)
        }
    }

    const sendPasswordToUser = async (email) => {
        try {

            await sendPasswordResetEmail(auth,email).then((res) => {
                console.log(res)
            })
            alert("New password send to email")
            
        } catch (error) {
            console.log(error)
        }
    }

    const signOutUser = async () => {
        await auth.signOut(auth)
    }

    const userStateChanged = async () => {
        onAuthStateChanged(auth, async (user) => {
            if(user){
                const q = query(collectionRef, where('uid', "==", user?.uid))
                await onSnapshot(q, (doc) => {
                    setUserData(doc?.docs[0]?.data())
                })
                setUser(user)
            }
            else{
                setUser(null)
                navigate("/login")
            }
        })
    }

    useEffect(() => {
        userStateChanged()
        if(user || userData){
            navigate("/")
        }
        else{
            navigate("/login")
        }
        return () => userStateChanged()
    },[])


    const intialState = {
        signInWithGoogle : signInWithGoogle,
        loginWithUserAndEmail:loginWithUserAndEmail,
        registerWithEmailAndPassword:registerWithEmailAndPassword,
        sendPasswordToUser:sendPasswordToUser,
        signOutUser:signOutUser,
        user:user,
        userData:userData
    }

    // console.log("user",user)
    // console.log("userData",userData)


  return (
    <>
    <div>
        <AuthContext.Provider value={intialState}>
            {children}
        </AuthContext.Provider>
    </div>
    </>
  )
}

export default AppContext-->


    c)just import that in login,register,sigout 
    from Login.jsx 
    <!--import React, { useContext, useEffect, useState } from 'react'
import {
    Card,
    CardHeader,
    CardBody,
    CardFooter,
    Typography,
    Input,
    Button,
  } from "@material-tailwind/react";
import { Link, useNavigate } from 'react-router-dom';
import { useFormik } from 'formik';
import * as Yup from "yup"
import {ClipLoader} from "react-spinners"


import { AuthContext } from '../AppContext/AppContext';
import { onAuthStateChanged, auth} from '../Firebase/Firebase';

const Login = () => {
    const navigate = useNavigate()
    let [loading, setLoading] = useState(false);

    //importing AppContext to signwithgoogle 
    const {signInWithGoogle,loginWithUserAndEmail} = useContext(AuthContext)

    useEffect(() => {
        setLoading(true)
        onAuthStateChanged(auth, (user) => {
            if(user){
                navigate("/")
                setLoading(false)
            }
            else{
                setLoading(false)
                navigate("/login")
            }
        })
    },[navigate])

    let initialValues = {
        email:"",
        password:""
    }

    const validationSchema = Yup.object({
        email:Yup.string()
        .email("Invalid email address")
        .required("Required"),

        password:Yup.string()
        .required("Required")
        .min('4',"Must be at least of 4 charcters")
        .matches(/^[a-zA-Z]+$/, "Password can only contain letters")
    })

    const handleSubmit = (e) => {
        e.preventDefault() 
        // console.log('formik',formik)

        const {email,password} = formik.values 
        if(formik.isValid === true) {
            setLoading(true)
            loginWithUserAndEmail(email,password)
        }
        else{
            setLoading(false)
        }

    }

    const formik = useFormik({initialValues,validationSchema,handleSubmit})


  return (
    <> 
    {
        loading ? (<div className='grid grid-cols-1 h-screen justify-items-center items-center'><ClipLoader className='sweet-loading' color="blue" loading={loading} size={100} /></div>)
        : (<div className="grid grid-cols-1 h-screen justify-items-center items-center">

        <Card className="w-96">
            <CardHeader
                variant="gradient"
                color="blue"
                className="mb-4 grid h-20 place-items-center"
            >
                <Typography variant="h3" color="white">
                Login Page
                </Typography>
            </CardHeader>

            <CardBody className="flex flex-col gap-4">
                <form onSubmit={handleSubmit}>
                    <div className='mb-2'>
                        <Input name='email' type="email" label="Email" size="lg" {...formik.getFieldProps("email")} />
                    </div>
                    <div className='mb-2'>
                        <Input name='password' type="password" label="Password" size="lg" {...formik.getFieldProps("password")}/>
                    </div>
                    <div className='mb-2'><Button type="submit" variant="gradient" fullWidth>Login</Button></div>
                    <div>
                        <>
                        {
                            formik.touched.email && formik.errors.email && (
                                <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.email}</Typography>
                            )
                        }
                        </>
                        <>
                        {
                            formik.touched.password && formik.errors.password && (
                                <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.password}</Typography>
                            )
                        }                       
                        </>
                    </div>
                </form>
            </CardBody>

            <CardFooter className="pt-0">
                <Typography
                    as="a"
                    href="#signup"
                    variant="small"
                    color="blue"
                    className="mt-6 flex justify-center ml-1 font-bold">
                    <button onClick={signInWithGoogle}>Login with Google</button>
                </Typography>
                
                <Link to="/resetpassword">
                    <Typography variant="small" color="blue" className="mt-6 flex justify-center ml-1 font-bold">Reset Password</Typography>
                </Link>
                <Link to="/register">
                    <Typography variant="small" className="mt-6 flex justify-center">
                        Don't have an account?
                    <Typography
                        as="a"
                        href="#signup"
                        variant="small"
                        color="blue"
                        className="ml-1 font-bold"
                    >
                        Register Now
                    </Typography>
                    </Typography>
                </Link>
            </CardFooter>
        </Card>

        </div>)
    }
    
    </>
  )
}

export default Login-->

    from Regioster.jsx 
    <!--import React, { useContext, useEffect } from 'react'
    import {
        Card,
        CardHeader,
        CardBody,
        CardFooter,
        Typography,
        Input,
        Button,
    } from "@material-tailwind/react";
    import { Link, useNavigate } from 'react-router-dom';

    import { useFormik } from 'formik';
    import * as Yup from "yup"

    import { useState } from "react";
    import { ClipLoader } from 'react-spinners';


    import { AuthContext } from '../AppContext/AppContext';
    import { onAuthStateChanged, auth} from '../Firebase/Firebase';



    const Register = () => {

        const navigate = useNavigate()
        let [loading, setLoading] = useState(false);

        //importing AppContext to signwithgoogle 
        const {registerWithEmailAndPassword} = useContext(AuthContext)


        useEffect(() => {
            setLoading(true)
            onAuthStateChanged(auth, (user) => {
                if(user){
                    navigate("/")
                    setLoading(false)
                }
                else{
                    setLoading(false)
                    navigate("/register")
                }
            })
        },[navigate])


        let initialValues = {
            name:"",
            email:"",
            password:"",
        }

        const validationSchema = Yup.object({
            name:Yup.string()
            .required("Required")
            .min('4','Username must be 4 characters long')
            .matches(/^[a-zA-Z]+$/, "username can only contain letters"),

            email:Yup.string()
            .email("Invalid email address")
            .required("Required"),

            password:Yup.string()
            .required("Required")
            .min('4',"Password must be at least of 4 charcters")
            .matches(/^[a-zA-Z]+$/, "Password can only contain letters")
        })

        const handleSubmit = (e) => {
        const {name,email,password} = formik.values 
            e.preventDefault() 
            // console.log('formik',formik)
            
            if(formik.isValid === true) {
                registerWithEmailAndPassword(name,email,password)
                setLoading(true)
            }
            else{
                setLoading(false)
            }

        }

        const formik = useFormik({initialValues,validationSchema,handleSubmit})

    
    return (
        <> 

        {/* <div className="flex justify-items-center items-center sweet-loading">

        <ClipLoader	
            color="blue"
            loading={loading}
            cssOverride={override}
            size={150}
            aria-label="Loading Spinner"
            data-testid="loader"
        />
        </div> */}

        <>
        {
        loading ? (<div className='grid grid-cols-1 h-screen justify-items-center items-center'><ClipLoader className='sweet-loading' color="blue" loading={loading} size={100} /></div>)
        : (<><div className="grid grid-cols-1 h-screen justify-items-center items-center">

        <Card className="w-96">
            <CardHeader
                variant="gradient"
                color="blue"
                className="mb-4 grid h-20 place-items-center"
            >
                <Typography variant="h3" color="white">
                Register Page
                </Typography>
            </CardHeader>

            <CardBody className="flex flex-col gap-4">
                <form onSubmit={handleSubmit}>
                    <div className='mb-2'>
                        <Input name='name' type="text" label="Username" size="lg" {...formik.getFieldProps("name")} />
                    </div>
                    <div className='mb-2'>
                        <Input name='email' type="email" label="Email" size="lg" {...formik.getFieldProps("email")} />
                    </div>
                    <div className='mb-2'>
                        <Input name='password' type="password" label="Password" size="lg" {...formik.getFieldProps("password")}/>
                    </div>
                    <div className='mb-2'><Button type="submit" variant="gradient" fullWidth>Register</Button></div>
                    <div>
                        <>
                        {
                            formik.touched.name && formik.errors.name && (
                                <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.name}</Typography>
                            )
                        }
                        </>
                        <>
                        {
                            formik.touched.email && formik.errors.email && (
                                <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.email}</Typography>
                            )
                        }
                        </>
                        <>
                        {
                            formik.touched.password && formik.errors.password && (
                                <Typography variant="small" className="mt-6 flex justify-center">{formik.errors.password}</Typography>
                            )
                        }                       
                        </>
                    </div>
                </form>
            </CardBody>

            <CardFooter className="pt-0">
                <Typography
                    as="a"
                    href="#signup"
                    variant="small"
                    color="blue"
                    className="mt-6 flex justify-center ml-1 font-bold">
                    Register with Google
                </Typography>
                
                {/* <Link to="/resetpassword">
                    <Typography variant="small" color="blue" className="mt-6 flex justify-center ml-1 font-bold">Reset Password</Typography>
                </Link> */}
                <Link to="/login">
                    <Typography variant="small" className="mt-6 flex justify-center">
                        Already have an account?
                    <Typography
                        as="a"
                        href="#signup"
                        variant="small"
                        color="blue"
                        className="ml-1 font-bold"
                    >
                        Login Now
                    </Typography>
                    </Typography>
                </Link>
            </CardFooter>
        </Card>

            </div></>)
        }
        </>

        </>
    )
    }

    export default Register-->

    from Userink.jsx 
    <!--import React, { useContext} from 'react'
    import { Tooltip } from '@material-tailwind/react'
    import { Avatar } from '@material-tailwind/react'
    import avatar from './logo512.png'

    import { AuthContext } from '../AppContext/AppContext';


    const UserLink = () => {


        //importing AppContext to signwithgoogle 
        const {signOutUser,user,userData} = useContext(AuthContext)


    return (
        <>
        <div className="flex justify-center items-center cursor-pointer">
            <div className="hover:translate-y-1 duration-500 ease-in-out hover:text-blue-500 mr-1">Profile</div>
            <div className="hover:translate-y-1 duration-500 ease-in-out hover:text-blue-500 mr-1">Notifications</div>
            <div className="hover:translate-y-1 duration-500 ease-in-out hover:text-blue-500 mr-1">Settings</div>
            <div className='flex items-center' onClick={signOutUser}>
            <Tooltip content="Sign Out" placement="bottom" >
                <Avatar src={avatar} size='sm'></Avatar>
            </Tooltip>
            <p className=' text-smm text-black font-medium no-underline'>
                {
                user?.displayName === null && userData?.name !== undefined 
                ? userData?.name?.charAt(0)?.toUpperCase() + userData?.name?.slice(1) 
                :user?.displayName?.split(" ")[0]
            }
            </p>
            </div>
        </div>
        </>
    )
    }

    export default UserLink-->


    8)Adding uplaod posts in main.jsx and storing that in firebase 
    from main.jsx 
    <!--import { Avatar, Button } from '@material-tailwind/react'
        import React, { useContext, useEffect, useReducer, useRef, useState } from 'react'
        import addImage from "../../assest/logo512.png"
        import { AuthContext } from '../AppContext/AppContext'
        import { collection, doc, orderBy, serverTimestamp, setDoc ,query, onSnapshot} from 'firebase/firestore'
        import { db } from '../Firebase/Firebase'
        import { PostReducer,postActions,postStates } from '../AppContext/PostReducer'
        import {getStorage,ref,getDownloadURL,uploadBytesResumable} from "firebase/storage"
        
        
        const Main = ({avatar}) => {
        
            const {user,userData} = useContext(AuthContext)
            const text = useRef("")
            const scrollRef = useRef()
            const [image,setImage] = useState(null)
            const [file,setFile] = useState(null)
            const collectionRef = collection(db, "posts")
            const postRef = doc(collection(db, "posts"))
            const document = postRef.id
            const[state,dispatch] = useReducer(PostReducer,postStates)
            const {SUBMIT_POST,HANDLE_ERROR} = postActions
            const [progressBar,setProgressBar] = useState(0)
            
        
            
            
        
        
            const handleUpload = (e) => {
                setFile(e.target.files[0])
            }
        
        
            const handleSubmitPost = async (e) => {
                // e.preventDefault();
        
                if(text.current.value !== ""){
                    try {
                        await setDoc(postRef,{
                        documentId : document,
                        uid:user?.uid || userData?.uid,
                        logo:user?.photoURL,
                        name:user?.displayName || userData?.name,
                        email:user?.email || userData?.email,
                        text: text.current.value,
                        image:image,
                        timestamp:serverTimestamp()
                    })
                        text.current.value = ""
                    } 
                    catch (error) {
                        dispatch({type:HANDLE_ERROR})
                        console.log(error)
                    }
                }
                else{
                    dispatch({type:HANDLE_ERROR})
                }
            }
        
            
        
            //uploading the image function with storage also 
            const storage = getStorage()
            const metadata = {
                contentType:["image/jpeg","image/png","image/gif","image/jpg","image/svg+xml"]
            }
            
        
            const submitImage = async () => {
                const fileType = metadata.contentType.includes(file["type"])
                // console.log("file",file)
        
                if(!file) return
        
                if(fileType){
                    try {
        
                        const storageRef = ref(storage,`images/${file.name}`)
                        const uplaodTask = uploadBytesResumable(storageRef,file,metadata.contentType)
                        await uplaodTask.on('state_changed', (snapshot) => {
                            const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes)* 100) 
                            setProgressBar(progress)
                        },
                        (error) => {alert(error)},
                        async () => {await getDownloadURL(uplaodTask.snapshot.ref).then((downlaodURL) => {
                            setImage(downlaodURL)
                        })}) 
                        
                    
                    } catch (error) {
                        dispatch({type:HANDLE_ERROR})
                        console.log(error)
                    }
                }
                
            }
        
            useEffect(() => {
                const postData = async () => {
                    const q = query(collectionRef, orderBy('timestamp',"asc"))
                    await onSnapshot(q,(doc) => {
                        dispatch({
                            type:SUBMIT_POST, 
                            posts:doc?.docs?.map((item) => item?.data())
                        })
        
                        scrollRef?.current?.scrollIntoView({behaviour:"smooth"})
                        setImage(null)
                        setFile(null)
                        setProgressBar(0)
                    })
                }
                return () => postData()
            },[SUBMIT_POST])
        
          return (
            <div className="flex flex-col items-center">
                <div className="flex flex-col py-4 w-full bg-white rounded-3xl shadow-lg">
                    <div className="flex items-center
                     border-b-2 border-gray-300 pb-4 pl-4 w-full">
                        <Avatar size='sm' variant='circular' src={avatar}/>
        
                        <form className='w-full' onSubmit={handleSubmitPost}>
                            <div className="flex justify-center items-center">
                                <div className="w-full ml-4">
                                    <input type="text" className='outline-none w-full bg-white rounded-md' 
                                    placeholder={`what's in your mind...${user?.displayName?.split(" ")[0] || userData?.name?.charAt(0).toUpperCase() + userData?.name?.splice(1)}?`} ref={text}/>
                                </div>
                                <div className="mx-4">{image && <img alt="previeewImage" className='h-24 roundex-xl' src={image}/>}</div>
                                <div className="mx-4">
                                    <Button variant='text' type='submit'>Post</Button>
                                </div>
                            </div>
                        </form>
                     </div>
        
                     <span style={{width: `${progressBar}%`}} className='bg-blue-700 py-1 rounded-md'></span>
        
                     <div className="flex justify-around items-center pt-4">
                        <div className="flex items-center">
                            {/* adding image for post*/}
                            <label htmlFor="addImage" className='cursor-pointer flex items-center'>
                                <img className="h-10 mr-4" src={addImage} alt="" />
                                <input id='addImage' type="file" style={{display:"none"}} onChange={handleUpload}/>
                            </label>
                            {
                                file && (<Button variant='text' onClick={submitImage}>Upload</Button>)
                            }
                            
                        </div>
                        
                        <div className="flex items-center">
                            {/* live image of icon*/}
                            <p className='font-medium text-md text-gray-700 no-underline tracking-normal leading-none'>Live</p>
                        </div>
                        <div className="flex items-center">
                            {/* feeling image of icon*/}
                            <p className='font-medium text-md text-gray-700 no-underline tracking-normal leading-none'>Feeling</p>
                        </div>
                     </div>
        
        
                     <div ref={scrollRef}></div>
                </div>
            </div>
          )
        }
        
        export default Main</main>
    from PostReducer.jsx 
    <!--export const postActions = {
    SUBMIT_POST :"SUBMI_POST",
    HANDLE_ERROR:"HANDLE_ERROR"
}

export const postStates = {
    error:false,
    posts:[]
}

export const PostReducer = (state,action) => {
    switch(action.type){
        case postActions.SUBMIT_POST:
            return {
                ...state,
                error:false,
                posts:action.posts,
            }
        case postActions.HANDLE_ERROR:
        return {
            ...state,
            error:true,
            posts:[],
        }
        default: return state
    }
}-->
        
    from PostReducer.jsx 
    <!--export const postActions = {
        SUBMIT_POST :"SUBMI_POST",
        HANDLE_ERROR:"HANDLE_ERROR"
    }

    export const postStates = {
        error:false,
        posts:[]
    }

    export const PostReducer = (state,action) => {
        switch(action.type){
            case postActions.SUBMIT_POST:
                return {
                    ...state,
                    error:false,
                    posts:action.posts,
                }
            case postActions.HANDLE_ERROR:
                return {
                    ...state,
                    error:true,
                    posts:[],
                }
            default: 
                return state
        }
    }-->
    working perfectly 

    9)  Adding logic for postcard
    frompostcard.jsx 
    <!--import { Avatar } from '@material-tailwind/react'
import React from 'react'
import avatar1 from '../../../assest/logo512.png'
import like from '../../../assest/logo512.png'
import comment from '../../../assest/logo512.png'
import deletepng from '../../../assest/logo512.png'

const PostCard = ({uid,name,logo,image,text,timestamp,id}) => {
  return (
    <>
        <div className="mb-4">
            <div className="flex flex-col py-4 bg-white rounded-t-3xl">
                <div className="flex items-center pb-4 ml-2">
                    <Avatar size='sm' variant='circular' src={logo || avatar1}/>
                    <div className="flex flex-col">
                        <p className='ml-4 py-2 font-medium text-sm text-gray-700 no-underlne leading-none tracking-normal'>{name}</p>
                        {/* <p className='ml-4 py-2 font-medium text-sm text-gray-700 no-underlne leading-none tracking-normal'>{email}</p> */}
                        <p className='ml-4 py-2 font-medium text-sm text-gray-700 no-underlne leading-none tracking-normal'>Publish:{timestamp}</p>
                    </div>
                </div>

                <div>
                    <p className='ml-4 py-2 font-medium text-sm text-gray-700 no-underlne leading-none tracking-normal'>{text}</p>
                    {
                        image && (<img src={image} className='h-[500px] w-full' alt='postpic'/>)
                    }
                </div>

                <div className="flex justify-around items-center pt-4">
                    <button className='cursor-pointer flex items-center rounded-lg p-2 hover:bg-gray-100'>
                        {/*likepic*/}
                        <img className='h-8 mr-4' src={like} alt="likepic" />
                        <p>Likes</p>
                    </button>
                    <div className='cursor-pointer flex items-center rounded-lg p-2 hover:bg-gray-100'>
                        <div className="flex items-center cursor-pointer">
                            {/* for comments */}
                            <img className='h-8 mr-4' src={comment} alt="comment" />
                            <p className='font-medium text-md text-gray-700 no-underline leading-none tracking-normal'>comments</p>
                        </div>
                    </div>
                    <div className="flex items-center cursor-pointer rounded-lg p-2 hover:bg-gray-100">
                        {/* for delete */}
                        <img className='h-8 mr-4' src={deletepng} alt="comment" />
                        <p className='font-medium text-md text-gray-700 no-underline leading-none tracking-normal'>Delete</p>
                    </div>
                </div>
                
            </div>
        </div>
    </>
  )
}

export default PostCard-->

    10)functinalites for like and addfreind  
    from postcar.jsx
    <!--import { Avatar } from '@material-tailwind/react'
    import React, { useContext, useEffect, useReducer, useState } from 'react'
    import avatar1 from '../../../assest/logo512.png'
    import like from '../../../assest/logo512.png'
    import comment from '../../../assest/logo512.png'
    import deletepng from '../../../assest/logo512.png'
    import { AuthContext } from '../../AppContext/AppContext'
    import { PostReducer ,postActions,postStates} from '../../AppContext/PostReducer'
    import { db } from '../../Firebase/Firebase'
    import { arrayUnion, collection, deleteDoc, doc, getDocs, onSnapshot, query, setDoc, updateDoc, where } from 'firebase/firestore'
    // import addFriendimage from "../../../assest/logo512.png"

    const PostCard = ({uid,name,logo,image,text,timestamp,id}) => {

        const {user} = useContext(AuthContext)
        const [state,dispatch] = useReducer(PostReducer,postStates)
        
        const likesRef = doc(collection(db,"posts",id,'likes'))
        const likesCollection = collection(db,"posts",id,'likes')
        const {ADD_LIKE, HANDLE_ERROR} = postActions
        const [open,setOpen] = useState(false)


        const handleOpen = (e) => {
            e.preventDefault()
            setOpen()
        }


        const addUser = async () => {
            try {

                const q = query(collection(db,"users"), where('uid', "==", user?.uid))
                const doc = await getDocs(q)
                const data = doc.docs[0].ref 
                await updateDoc(data, {
                    friends: arrayUnion({id:uid,image:logo,name:name})
                })

            } catch (error) {
            console.log(error)
            }
        }

        const handleLike = async () => {

            const q = query(likesCollection, where('id', "==", user?.uid))
            const querySnapShot = await getDocs(q)
            const likesDocId = await querySnapShot?.docs[0]?.id 

            try {
                
                if(likesDocId !== undefined){
                    const deleteId = doc(db, "posts", id, "likes", likesDocId)
                    await deleteDoc(deleteId)
                }
                else{
                    await setDoc(likesRef,{
                        id:user?.uid
                    })
                }

            } catch (error) {
                console.log(error)
            }

        }

        useEffect(() => {
            const getLikes = async () => {
                try {

                    const q = collection(db, "posts", id, "likes")
                    await onSnapshot(q, (doc) => {
                        dispatch({type:ADD_LIKE, 
                        likes: doc?.docs?.map((item) => item?.data())})
                    })
                    
                } catch (error) {
                    dispatch({type:HANDLE_ERROR})
                    console.log(error)
                }
            }
            return () => getLikes()
        },[id,ADD_LIKE,HANDLE_ERROR])

    return (
        <>
            <div className="mb-4">
                <div className="flex flex-col py-4 bg-white rounded-t-3xl">
                    <div className="flex justify-start items-center pb-4 pl-4">
                        <Avatar size='sm' variant='circular' src={logo || avatar1}/>
                        <div className="flex flex-col ml-4">
                            <p className='ml-4 py-2 font-medium text-sm text-gray-700 no-underlne leading-none tracking-normal'>{name}</p>
                            {/* <p className='ml-4 py-2 font-medium text-sm text-gray-700 no-underlne leading-none tracking-normal'>{email}</p> */}
                            <p className='ml-4 py-2 font-medium text-sm text-gray-700 no-underlne leading-none tracking-normal'>Publish:{timestamp}</p>
                        </div>

                        {/* /addfriend */}

                        {
                            user?.uid !== uid && 
                            <div onClick={addUser} className='w-full flex justify-end cursor-pointer mr-10'>
                                <p className='hover:bg-gray-100 p-2'>Add friend+</p>
                            {/* <img className='hover:bg-blue-100 rounded-xl p-2' src="" alt="aDDFRIENDPIC"/> */}
                            </div>
                            
                        }


                    </div>

                    <div>
                        <p className='ml-4 py-2 font-medium text-sm text-gray-700 no-underlne leading-none tracking-normal'>{text}</p>
                        {
                            image && (<img src={image} className='h-[500px] w-full' alt='postpic'/>)
                        }
                    </div>

                    <div className="flex justify-around items-center pt-4">
                        <button className='cursor-pointer flex items-center rounded-lg p-2 hover:bg-gray-100' onClick={handleLike}>
                            {/*likepic*/}
                            <img className='h-8 mr-4' src={like} alt="likepic" />
                            <p>Likes</p>
                            {
                                state.likes?.length > 0 && state?.likes?.length
                            }
                        </button>
                        <div className='cursor-pointer flex items-center rounded-lg p-2 hover:bg-gray-100'>
                            <div className="flex items-center cursor-pointer">
                                {/* for comments */}
                                <img className='h-8 mr-4' src={comment} alt="comment" />
                                <p className='font-medium text-md text-gray-700 no-underline leading-none tracking-normal'>comments</p>
                            </div>
                        </div>
                        <div className="flex items-center cursor-pointer rounded-lg p-2 hover:bg-gray-100">
                            {/* for delete */}
                            <img className='h-8 mr-4' src={deletepng} alt="comment" />
                            <p className='font-medium text-md text-gray-700 no-underline leading-none tracking-normal'>Delete</p>
                        </div>
                    </div>
                    
                </div>
            </div>
        </>
    )
    }

    export default PostCard-->

    11)manging comments 
    fromCommentsection.jsx 
    <!--import { Avatar } from '@material-tailwind/react'
import React, { useContext, useEffect, useReducer, useRef } from 'react'
import avatar1 from '../../../assest/logo512.png'
import { AuthContext } from '../../AppContext/AppContext'
import { collection, doc, onSnapshot, orderBy, query, serverTimestamp, setDoc } from 'firebase/firestore'
import { db } from '../../Firebase/Firebase'
import { PostReducer, postActions, postStates } from '../../AppContext/PostReducer'
import Comment from './Comment'

const CommentsSection = ({postId}) => {

  const comment = useRef("")
  const {user,userData} = useContext(AuthContext)
  const commentRef = doc(collection(db, "posts", postId, "comments"));
  const [state, dispatch] = useReducer(PostReducer, postStates);
  const { ADD_COMMENT, HANDLE_ERROR } = postActions;


  const addComment = async (e) =>{
    e.preventDefault();
    if(comment.current.value !== ""){
      try {

        await setDoc(commentRef, {
          id: commentRef.id,
          comment: comment.current.value,
          image: user?.photoURL,
          name:userData?.name?.charAt(0)?.toUpperCase() + userData?.name?.slice(1) || user?.displayName?.split(" ")[0],
          timestamp: serverTimestamp(),
        });
        comment.current.value = ""; 
        
      } catch (error) {
        console.log(error)
      }
    }
  }


  useEffect(() => {
    const getComments = async () => {
      try {

        const collectionOfComments = collection(db, `posts/${postId}/comments`);
        const q = query(collectionOfComments, orderBy("timestamp", "desc"));
        await onSnapshot(q, (doc) => {
          dispatch({
            type: ADD_COMMENT,
            comments: doc.docs?.map((item) => item.data()),
          });
        });

      } catch (error) {
        dispatch({ type: HANDLE_ERROR });
        console.log(error);
      }
    };
    return () => getComments();
  }, [postId, ADD_COMMENT, HANDLE_ERROR]);



  return (
    <>
      <div className="flex flex-col bg-white w-full py-2 rounded-b-3xl">

        <div className="flex items-center">
          <div className="mx-2">
            <Avatar size='sm' variant='circular' src={user?.photoURL || avatar1}/>
          </div>
          <div className="w-full pr-2">
            <form className='flex items-center w-full' onSubmit={addComment}>
              <input name="comment" type="text" className='w-full rounded-2xl outline-none p-2 bg-gray-100 border-0' ref={comment} placeholder='write comment here...'/>
              <button className='hidden' type='submit'></button>
            </form>
          </div>
        </div>

        {state?.comments?.map((comment, index) => {
          return (
            <Comment key={index} image={comment?.image} name={comment?.name} comment={comment?.comment}/>
          );
        })}
      </div>
    </>
  )
}

export default CommentsSection
-->

    from comment 
    <!--import React from "react";
    import { Avatar } from "@material-tailwind/react";
    import avatar from "../../../assest/logo512.png";

    const Comment = ({ name, comment, image }) => {
    return (
        <div className="flex items-center mt-2 w-full">
        <div className="mx-2">
            <Avatar size="sm" variant="circular" src={image || avatar}></Avatar>
        </div>
        <div className="flex flex-col items-start bg-gray-100 rounded-2xl p-1 max-w-[600px]">
            <p className=" text-black text-sm no-underline tracking-normal leading-none p-1 font-medium">
            {name}
            </p>
            <p className=" text-black text-sm no-underline tracking-normal leading-none p-1 font-medium">
            {comment}
            </p>
        </div>
        </div>
    );
    };

    export default Comment;-->


    12)delete post 
    from postcard.jsx 
    <!--
        const singlePostDocument = doc(db, "posts", id);

        const deletePost = async (e) => {
        e.preventDefault();
        try {
          if (user?.uid === uid) {
            await deleteDoc(singlePostDocument);
          } else {
            alert("You cant delete other users posts !!!");
          }
        } catch (err) {
          alert(err.message);
          console.log(err.message);
        }
    };-->


    13)friend profile page 
    friendprofile.jsx
    <!--import React, { useState, useEffect } from "react";
import LeftSide from "../Leftsidebar/LeftSide";
import Navbar from "../Navbar/Navbar";
import RightSide from "../Rightsidebar/RightSide";
import Main from "../Main/Main";
import profilePic1 from "../../assest/logo512.png";
import { Avatar } from "@material-tailwind/react";
import avatar1 from "../../assest/logo512.png";
import { collection, where, query, onSnapshot } from "firebase/firestore";
import { db } from "../Firebase/Firebase";
import { useParams } from "react-router-dom";

const FriendProfile = () => {

  const { id } = useParams();
  const [profile, setProfile] = useState(null);


  useEffect(() => {
    const getUserProfile = async () => {
      const q = query(collection(db, "users"), where("uid", "==", id));
      await onSnapshot(q, (doc) => {
        setProfile(doc.docs[0].data());
      });
    };
    getUserProfile();
  }, [id]);
  console.log(profile);


  return (
    <div className="w-full">
      <div className="fixed top-0 z-10 w-full bg-white">
        <Navbar></Navbar>
      </div>
      <div className="flex bg-gray-100">
        <div className="flex-auto w-[20%] fixed top-12">
          <LeftSide></LeftSide>
        </div>
        <div className="flex-auto w-[60%] absolute left-[20%] top-14 bg-gray-100 rounded-xl">
          <div className="w-[80%] mx-auto">
            <div>
              <div className="relative py-4">
                <img
                  className="h-96 w-full rounded-md"
                  src={profilePic1}
                  alt="profilePic"
                ></img>
                <div className="absolute bottom-10 left-6">
                  <Avatar
                    size="xl"
                    variant="circular"
                    src={profile?.image || avatar1}
                    alt="avatar"
                  ></Avatar>
                  <p className="py-2 font-roboto font-medium text-sm  no-underline tracking-normal leading-none">
                    {profile?.email}
                  </p>
                  <p className="py-2 font-roboto font-medium text-sm no-underline tracking-normal leading-none">
                    {profile?.name}
                  </p>
                </div>
                <div className="flex flex-col absolute right-6 bottom-10">
                  <div className="flex items-center">
                    <span className="ml-2 py-2 font-roboto font-medium text-sm no-underline tracking-normal leading-none">
                      Loaction - From Tokyo, Japan
                    </span>
                  </div>
                  <div className="flex items-center">
                    <span className="ml-2 py-2 font-roboto font-medium text-sm  no-underline tracking-normal leading-none">
                      Lives - Lives in New York
                    </span>
                  </div>
                </div>
              </div>
            </div>
            <Main></Main>
          </div>
        </div>
        <div className="flex-auto w-[20%] fixed right-0 top-12">
          <RightSide></RightSide>
        </div>
      </div>
    </div>
  );
};

export default FriendProfile;--> 
    
    

</body>
</html>